<!DOCTYPE html>
<html lang="mn" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Primary Meta Tags -->
    <title>ReHome Today - AI –ò–Ω—Ç–µ—Ä—å–µ—Ä –î–∏–∑–∞–π–Ω–µ—Ä | –ú–æ–Ω–≥–æ–ª–¥ –∞–Ω—Ö–Ω—ã AI ”®—Ä”©”©–Ω–∏–π –î–∏–∑–∞–π–Ω</title>
    <meta name="title" content="ReHome Today - AI –ò–Ω—Ç–µ—Ä—å–µ—Ä –î–∏–∑–∞–π–Ω–µ—Ä | –ú–æ–Ω–≥–æ–ª–¥ –∞–Ω—Ö–Ω—ã AI ”®—Ä”©”©–Ω–∏–π –î–∏–∑–∞–π–Ω">
    <meta name="description" content="–¢–∞–Ω—ã –≥—ç—Ä–∏–π–≥ AI-–∞–∞—Ä –¥–∞—Ö–∏–∞–Ω —à–∏–Ω—ç—á–ª—ç–µ. 20 —Å–µ–∫—É–Ω–¥—ç–¥ –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω, “Ø–Ω—ç–≥“Ø–π 3 –∫—Ä–µ–¥–∏—Ç. –ú–æ–Ω–≥–æ–ª–¥ –∞–Ω—Ö–Ω—ã AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω–µ—Ä –ø–ª–∞—Ç—Ñ–æ—Ä–º. –ó—É—Ä–∞–≥ –æ—Ä—É—É–ª–∞–∞–¥ AI-–∞–∞—Ä ”©—Ä”©”©–≥”©”© —à–∏–Ω—ç—á–∏–ª.">
    <meta name="keywords" content="AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω, ”©—Ä”©”©–Ω–∏–π –¥–∏–∑–∞–π–Ω, AI –¥–∏–∑–∞–π–Ω–µ—Ä, –∏–Ω—Ç–µ—Ä—å–µ—Ä, –≥—ç—Ä–∏–π–Ω –¥–∏–∑–∞–π–Ω, AI, –ú–æ–Ω–≥–æ–ª, rehome, rehome today, ”©—Ä”©”© —à–∏–Ω—ç—á–ª—ç—Ö, –¥–∏–∑–∞–π–Ω “Ø“Ø—Å–≥—ç—Ö">
    <meta name="author" content="ReHome Today">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="language" content="Mongolian">
    <meta name="revisit-after" content="7 days">
    <meta name="theme-color" content="#9333ea">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://rehome.today/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rehome.today/">
    <meta property="og:title" content="ReHome Today - AI –ò–Ω—Ç–µ—Ä—å–µ—Ä –î–∏–∑–∞–π–Ω–µ—Ä | –ú–æ–Ω–≥–æ–ª–¥ –∞–Ω—Ö–Ω—ã AI ”®—Ä”©”©–Ω–∏–π –î–∏–∑–∞–π–Ω">
    <meta property="og:description" content="–¢–∞–Ω—ã –≥—ç—Ä–∏–π–≥ AI-–∞–∞—Ä –¥–∞—Ö–∏–∞–Ω —à–∏–Ω—ç—á–ª—ç–µ. 20 —Å–µ–∫—É–Ω–¥—ç–¥ –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω, “Ø–Ω—ç–≥“Ø–π 3 –∫—Ä–µ–¥–∏—Ç. –ú–æ–Ω–≥–æ–ª–¥ –∞–Ω—Ö–Ω—ã AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω–µ—Ä –ø–ª–∞—Ç—Ñ–æ—Ä–º.">
    <meta property="og:image" content="https://rehome.today/static/images/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="ReHome Today - AI –ò–Ω—Ç–µ—Ä—å–µ—Ä –î–∏–∑–∞–π–Ω–µ—Ä">
    <meta property="og:site_name" content="ReHome Today">
    <meta property="og:locale" content="mn_MN">
    <meta property="og:locale:alternate" content="en_US">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://rehome.today/">
    <meta name="twitter:title" content="ReHome Today - AI –ò–Ω—Ç–µ—Ä—å–µ—Ä –î–∏–∑–∞–π–Ω–µ—Ä | –ú–æ–Ω–≥–æ–ª–¥ –∞–Ω—Ö–Ω—ã AI ”®—Ä”©”©–Ω–∏–π –î–∏–∑–∞–π–Ω">
    <meta name="twitter:description" content="–¢–∞–Ω—ã –≥—ç—Ä–∏–π–≥ AI-–∞–∞—Ä –¥–∞—Ö–∏–∞–Ω —à–∏–Ω—ç—á–ª—ç–µ. 20 —Å–µ–∫—É–Ω–¥—ç–¥ –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω, “Ø–Ω—ç–≥“Ø–π 3 –∫—Ä–µ–¥–∏—Ç.">
    <meta name="twitter:image" content="https://rehome.today/static/images/og-image.jpg">
    <meta name="twitter:image:alt" content="ReHome Today - AI –ò–Ω—Ç–µ—Ä—å–µ—Ä –î–∏–∑–∞–π–Ω–µ—Ä">
    <meta name="twitter:creator" content="@rehometoday">
    <meta name="twitter:site" content="@rehometoday">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png">
    <link rel="manifest" href="/static/site.webmanifest">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "ReHome Today",
        "applicationCategory": "DesignApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "MNT"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "reviewCount": "150"
        },
        "description": "–ú–æ–Ω–≥–æ–ª–¥ –∞–Ω—Ö–Ω—ã AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω–µ—Ä –ø–ª–∞—Ç—Ñ–æ—Ä–º. –¢–∞–Ω—ã ”©—Ä”©”©–Ω–∏–π –∑—É—Ä–≥–∏–π–≥ –æ—Ä—É—É–ª–∞–∞–¥ AI-–∞–∞—Ä —à–∏–Ω—ç –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω “Ø“Ø—Å–≥—ç–Ω—ç.",
        "url": "https://rehome.today",
        "author": {
            "@type": "Organization",
            "name": "ReHome Today"
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "ReHome Today",
        "url": "https://rehome.today",
        "logo": "https://rehome.today/static/images/logo.png",
        "description": "–ú–æ–Ω–≥–æ–ª–¥ –∞–Ω—Ö–Ω—ã AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω–µ—Ä –ø–ª–∞—Ç—Ñ–æ—Ä–º",
        "sameAs": [
            "https://www.facebook.com/rehometoday",
            "https://www.instagram.com/rehometoday",
            "https://twitter.com/rehometoday"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "Customer Service",
            "email": "support@rehome.today"
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "ReHome Today",
        "url": "https://rehome.today",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://rehome.today/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "ReHome Today - AI –ò–Ω—Ç–µ—Ä—å–µ—Ä –î–∏–∑–∞–π–Ω–µ—Ä",
        "description": "–¢–∞–Ω—ã –≥—ç—Ä–∏–π–≥ AI-–∞–∞—Ä –¥–∞—Ö–∏–∞–Ω —à–∏–Ω—ç—á–ª—ç–µ. 20 —Å–µ–∫—É–Ω–¥—ç–¥ –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω, “Ø–Ω—ç–≥“Ø–π 3 –∫—Ä–µ–¥–∏—Ç.",
        "url": "https://rehome.today",
        "inLanguage": "mn-MN",
        "isPartOf": {
            "@type": "WebSite",
            "name": "ReHome Today",
            "url": "https://rehome.today"
        }
    }
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        'primary': {
                            50: '#f3e8ff',
                            100: '#e9d5ff',
                            200: '#d8b4fe',
                            300: '#c084fc',
                            400: '#a855f7',
                            500: '#9333ea',
                            600: '#7e22ce',
                            700: '#6b21a8',
                            800: '#581c87',
                            900: '#4c1d95',
                        }
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body class="font-sans bg-gray-900 text-white antialiased">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full bg-gray-900/95 backdrop-blur-sm border-b border-gray-800 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-sm">R</span>
                    </div>
                    <span class="text-xl font-bold text-white">ReHome AI</span>
                </div>
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#examples" class="text-gray-300 hover:text-white transition-colors">–ñ–∏—à—ç—ç</a>
                    <a href="#pricing" class="text-gray-300 hover:text-white transition-colors">–¢”©–ª–±”©—Ä</a>
                    {% if user.is_authenticated %}
                        <div class="flex items-center bg-gray-800 px-4 py-2 rounded-lg border border-gray-700">
                            <span class="text-sm text-gray-400 mr-2">–ö—Ä–µ–¥–∏—Ç:</span>
                            <span class="text-sm font-semibold text-white" id="nav-credit-balance">–ê—á–∞–∞–ª–ª–∞–∂ –±–∞–π–Ω–∞...</span>
                        </div>
                        <button onclick="openPackagesModal()" class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors font-semibold text-sm">
                            –ö—Ä–µ–¥–∏—Ç —Ö—É–¥–∞–ª–¥–∞–∂ –∞–≤–∞—Ö
                        </button>
                        <a href="/app/profile/" class="flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-gray-800 transition-colors">
                            <div class="w-8 h-8 bg-primary-500 rounded-full flex items-center justify-center">
                                <span class="text-white font-semibold text-sm">{{ user.username|first|upper }}</span>
                            </div>
                            <div class="flex flex-col">
                                <span class="text-sm font-semibold text-white">{{ user.username }}</span>
                                <span class="text-xs text-gray-400">{{ user.email|default:"Email –±–∞–π—Ö–≥“Ø–π" }}</span>
                            </div>
                        </a>
                    {% else %}
                        <button onclick="openLoginModal()" class="text-gray-300 hover:text-white transition-colors">–ù—ç–≤—Ç—Ä—ç—Ö</button>
                        <button onclick="openSignupModal()" class="bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors font-semibold">
                            “Æ–ù–≠–ì“Æ–ô –¢–£–†–®–ò–ñ “Æ–ó–≠–• ‚Üí
                        </button>
                    {% endif %}
                </div>
                <button class="md:hidden p-2 text-gray-300">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="pt-24 pb-12 lg:pt-32 lg:pb-16" itemscope itemtype="https://schema.org/WebPage">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h1 class="text-5xl lg:text-6xl font-bold text-white leading-tight mb-6" itemprop="headline">
                    –¢–∞–Ω—ã –≥—ç—Ä–∏–π–≥ AI-–∞–∞—Ä –¥–∞—Ö–∏–∞–Ω —à–∏–Ω—ç—á–ª—ç–µ
                    </h1>
                <div class="flex flex-wrap justify-center gap-6 text-lg text-gray-300 mb-8">
                    <div class="flex items-center">
                        <span class="mr-2">‚ö°</span>
                        <span>20 —Å–µ–∫—É–Ω–¥—ç–¥ –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω</span>
                    </div>
                        <div class="flex items-center">
                        <span class="mr-2">üí∞</span>
                        <span>“Æ–Ω—ç–≥“Ø–π 3 —Ç—É—Ä—à–∏–ª—Ç</span>
                        </div>
                        <div class="flex items-center">
                        <span class="mr-2">üé®</span>
                        <span>8+ –¥–∏–∑–∞–π–Ω —Ö—ç–≤ –º–∞—è–≥</span>
                        </div>
                    <div class="flex items-center">
                        <span class="mr-2">üá≤üá≥</span>
                        <span>–ú–æ–Ω–≥–æ–ª–¥ –∞–Ω—Ö–Ω—ã AI –ò–Ω—Ç–µ—Ä—å–µ—Ä –î–∏–∑–∞–π–Ω–µ—Ä</span>
                    </div>
                </div>
                                    </div>

            <!-- Result Section -->
            <div id="result" class="bg-gray-800 rounded-xl border border-gray-700 p-6 hidden mb-8">
                <!-- Title centered at top -->
                <div class="text-center mb-6">
                    <h3 id="result-title" class="text-xl font-bold text-white mb-4">Living Room, Minimalist Haven</h3>
                                </div>
                <div id="comparison-container" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <!-- Original Image (Left) -->
                    <div class="space-y-3">
                        <div class="bg-gray-700 rounded-lg overflow-hidden border border-gray-600 relative" style="height: 500px; display: flex; align-items: center; justify-content: center;">
                            <div class="absolute top-2 left-2 bg-gray-900/75 text-white px-3 py-1 rounded-md text-sm font-semibold z-10">
                                Original
                                </div>
                            <img id="result-original-img" src="" alt="–ê–Ω—Ö–Ω—ã ”©—Ä”©”©–Ω–∏–π –∑—É—Ä–∞–≥ - ReHome AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω" class="w-full h-full object-cover" loading="lazy">
                                </div>
                            </div>
                    <!-- Generated Image (Right) -->
                    <div class="space-y-3">
                        <div id="generated-container" class="bg-gray-700 rounded-lg overflow-hidden border border-gray-600 relative" style="height: 500px; display: flex; align-items: center; justify-content: center;">
                            <div class="absolute top-2 left-2 bg-gray-900/75 text-white px-3 py-1 rounded-md text-sm font-semibold z-10">
                                Generated
                        </div>
                            <!-- Watermark overlay -->
                            <div id="watermark-overlay" class="absolute bottom-2 right-2 bg-black/60 text-white px-3 py-1.5 rounded-md text-xs font-medium z-10 hidden">
                                www.rehome.today
                    </div>
                            <!-- Progress bar will be shown here initially -->
                            <div id="progress-container" class="w-full px-8">
                                <div class="w-full bg-gray-600 rounded-full h-2 mb-2">
                                    <div id="progress-bar" class="bg-primary-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>
                                <p id="progress-text" class="text-center text-gray-300 text-sm">0%</p>
                    </div>
                            <!-- Generated image will be shown here when ready -->
                            <img id="result-generated-img" src="" alt="AI-–∞–∞—Ä “Ø“Ø—Å–≥—ç—Å—ç–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω - ReHome Today" class="w-full h-full object-cover hidden" loading="lazy">
                </div>
            </div>
        </div>
                <!-- Download buttons -->
                <div class="flex justify-center gap-3">
                    <button id="download-generated-btn" class="bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors font-semibold text-sm hidden flex items-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
                        </svg>
                        Generated Image —Ç–∞—Ç–∞—Ö
                    </button>
                    <button id="download-compared-btn" class="bg-gray-700 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors font-semibold text-sm hidden flex items-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
                        </svg>
                        –•–∞—Ä—å—Ü—É—É–ª—Å–∞–Ω –∑—É—Ä–∞–≥ —Ç–∞—Ç–∞—Ö
                    </button>
        </div>
            </div>

            <!-- Main Content: Two Columns -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12">
                <!-- Left Panel: Design Generation Form -->
                <div class="bg-gray-800 rounded-2xl p-6 lg:p-8 border border-gray-700">
                    <!-- Step 1: Upload Image -->
                    <div class="mb-8">
                        <h3 class="text-lg font-semibold text-white mb-4">1. ”®—Ä”©”©–Ω–∏–π—Ö”©”© –∑—É—Ä–≥–∏–π–≥ –æ—Ä—É—É–ª–Ω–∞ —É—É</h3>
                        <div class="border-2 border-dashed border-gray-600 rounded-lg p-12 text-center hover:border-primary-500 transition-colors cursor-pointer" id="upload-area">
                            <label for="image" class="cursor-pointer">
                                <svg class="mx-auto h-12 w-12 text-gray-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                        </svg>
                                <p class="text-gray-300 mb-2">–ó—É—Ä–∞–≥ —Å–æ–Ω–≥–æ—Ö —ç—Å–≤—ç–ª —á–∏—Ä–∂ –æ—Ä—É—É–ª–∞—Ö</p>
                                <p class="text-sm text-gray-500">PNG, JPG –¥—ç–º–∂–¥—ç–≥</p>
                                <input id="image" name="image" type="file" class="sr-only" accept="image/*">
                            </label>
                    </div>
                        <div id="image-preview" class="mt-4 hidden">
                <div class="relative">
                                <img id="preview-img" class="w-full h-48 object-cover rounded-lg" alt="”®—Ä”©”©–Ω–∏–π –∑—É—Ä–∞–≥ —É—Ä—å–¥—á–∏–ª—Å–∞–Ω —Ö–∞—Ä–∞–ª—Ç - ReHome AI" loading="lazy">
                                <button id="remove-image-btn" class="absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-2 shadow-lg transition-colors" title="–ó—É—Ä–∞–≥ –∞—Ä–∏–ª–≥–∞—Ö">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                                </button>
                    </div>
                            <div class="mt-3 text-center">
                                <label for="image" class="inline-block text-sm text-gray-400 hover:text-gray-300 cursor-pointer underline">
                                    ”®”©—Ä –∑—É—Ä–∞–≥ —Å–æ–Ω–≥–æ—Ö
                                </label>
                </div>
            </div>
        </div>

                    <!-- Step 2: Choose Room Type -->
                    <div class="mb-8">
                        <h3 class="text-lg font-semibold text-white mb-4">2. ”®—Ä”©”©–Ω–∏–π —Ç”©—Ä”©–ª —Å–æ–Ω–≥–æ—Ö</h3>
                        <div class="flex flex-wrap gap-2">
                            <button class="room-type-btn px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors text-sm" data-room-mn="–ó–æ—á–Ω—ã ”©—Ä”©”©" data-room-en="Living Room">–ó–æ—á–Ω—ã ”©—Ä”©”©</button>
                            <button class="room-type-btn px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors text-sm" data-room-mn="–£–Ω—Ç–ª–∞–≥—ã–Ω ”©—Ä”©”©" data-room-en="Bedroom">–£–Ω—Ç–ª–∞–≥—ã–Ω ”©—Ä”©”©</button>
                            <button class="room-type-btn px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors text-sm" data-room-mn="–ì–∞–ª —Ç–æ–≥–æ–æ" data-room-en="Kitchen">–ì–∞–ª —Ç–æ–≥–æ–æ</button>
                            <button class="room-type-btn px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors text-sm" data-room-mn="–•–æ–æ–ª–Ω—ã ”©—Ä”©”©" data-room-en="Dining Room">–•–æ–æ–ª–Ω—ã ”©—Ä”©”©</button>
                            <button class="room-type-btn px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors text-sm" data-room-mn="–£–≥–∞–∞–ª–≥—ã–Ω ”©—Ä”©”©" data-room-en="Laundry Room">–£–≥–∞–∞–ª–≥—ã–Ω ”©—Ä”©”©</button>
                            <button class="room-type-btn px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors text-sm" data-room-mn="–•“Ø“Ø—Ö–¥–∏–π–Ω ”©—Ä”©”©" data-room-en="Kids Room">–•“Ø“Ø—Ö–¥–∏–π–Ω ”©—Ä”©”©</button>
                            <button class="room-type-btn px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors text-sm" data-room-mn="–ê–∂–ª—ã–Ω ”©—Ä”©”©" data-room-en="Office">–ê–∂–ª—ã–Ω ”©—Ä”©”©</button>
            </div>
                    </div>

                    <!-- Step 3: Choose Interior Style -->
                    <div class="mb-8">
                        <h3 class="text-lg font-semibold text-white mb-4">3. –ò–Ω—Ç–µ—Ä—å–µ—Ä–∏–π–Ω —Ö—ç–≤ –º–∞—è–≥ —Å–æ–Ω–≥–æ—Ö</h3>
                        <div id="interior-style-container" class="grid grid-cols-3 gap-4">
                            <!-- Interior styles will be loaded dynamically -->
                </div>
                        <div class="text-center mt-4">
                            <button id="see-more-styles-btn" class="text-primary-400 hover:text-primary-300 font-semibold text-sm transition-colors">
                                –ò–ª“Ø“Ø –∏—Ö —Ö–∞—Ä–∞—Ö ‚Üì
                            </button>
                            <button id="see-less-styles-btn" class="text-primary-400 hover:text-primary-300 font-semibold text-sm transition-colors hidden">
                                –¶”©”©–Ω —Ö–∞—Ä–∞—Ö ‚Üë
                            </button>
                    </div>
                </div>

                    <!-- Step 4: Add Details -->
                    <div class="mb-8">
                        <h3 class="text-lg font-semibold text-white mb-4">4. –î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π –º—ç–¥—ç—ç–ª—ç–ª –Ω—ç–º—ç—Ö</h3>
                        <textarea id="description" class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-white placeholder-gray-400" rows="3" placeholder="–ñ–∏—à—ç—ç: –û—Ä—á–∏–Ω “Ø–µ–∏–π–Ω –≥–æ—Å—Ç–∏–π–Ω ”©—Ä”©”© —Ç–æ–º —Ü–æ–Ω—Ö—Ç–æ–π, —Å–∞–∞—Ä–º–∞–≥ ”©–Ω–≥”©—Ç—ç–π"></textarea>
        </div>

                    <!-- Generate Button -->
                    <div class="flex items-center justify-between mb-3">
                        <div class="text-sm text-gray-400">
                            <span class="font-medium">–ó–∞—Ä–¥–∞–ª:</span> 1 –∫—Ä–µ–¥–∏—Ç
            </div>
                        <button id="generate-btn" class="bg-primary-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary-700 transition-all duration-200 transform hover:scale-105">
                            <span id="submit-text">“Æ“Ø—Å–≥—ç—Ö</span>
                            <span id="loading-text" class="hidden">“Æ“Ø—Å–≥—ç–∂ –±–∞–π–Ω–∞...</span>
                        </button>
                        </div>
                </div>

                <!-- Right Panel: Example Results and Features -->
                <div class="space-y-6">
                    <div class="bg-gray-800 rounded-2xl p-6 border border-gray-700">
                        <h3 class="text-xl font-semibold text-white mb-4">–ñ–∏—à—ç—ç “Ø—Ä –¥“Ø–Ω</h3>
                        <div class="relative">
                            <div class="flex items-center justify-between mb-4">
                                <div class="text-sm text-gray-400">”®–º–Ω”©</div>
                                <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                        </svg>
                                <div class="text-sm text-gray-400">–î–∞—Ä–∞–∞</div>
                    </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-gray-700 rounded-lg overflow-hidden">
                                    <img src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=400&h=300&fit=crop" alt="”®–º–Ω”© - AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω –∂–∏—à—ç—ç, ReHome Today" class="w-full h-48 object-cover" loading="lazy">
                </div>
                                <div class="bg-gray-700 rounded-lg overflow-hidden relative">
                                    <img src="https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=400&h=300&fit=crop" alt="–î–∞—Ä–∞–∞ - AI-–∞–∞—Ä —à–∏–Ω—ç—á–ª—ç–≥–¥—Å—ç–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω, ReHome Today" class="w-full h-48 object-cover" loading="lazy">
                                    <span class="absolute top-2 right-2 bg-primary-500 text-white text-xs px-2 py-1 rounded">AI –î–∏–∑–∞–π–Ω</span>
            </div>
        </div>
                        </div>
                    </div>

                    <div class="bg-gray-800 rounded-2xl p-6 border border-gray-700 space-y-4">
                        <div class="flex items-start">
                            <span class="text-2xl mr-3">‚ö°</span>
                            <div>
                                <h4 class="font-semibold text-white mb-1">20 —Å–µ–∫—É–Ω–¥—ç–¥ –±—ç–ª—ç–Ω</h4>
                                <p class="text-sm text-gray-400">–î–∏–∑–∞–π–Ω–µ—Ä 1-2 –¥–æ–ª–æ–æ —Ö–æ–Ω–æ–≥ —Ö“Ø–ª—ç—ç—Ö–≥“Ø–π</p>
            </div>
                    </div>
                        <div class="flex items-start">
                            <span class="text-2xl mr-3">üí∞</span>
                            <div>
                                <h4 class="font-semibold text-white mb-1">100 –¥–∞—Ö–∏–Ω —Ö—è–º–¥</h4>
                                <p class="text-sm text-gray-400">–î–∏–∑–∞–π–Ω–µ—Ä 500,000+ VS AI 5,000‚ÇÆ</p>
                </div>
                    </div>
                        <div class="flex items-start">
                            <span class="text-2xl mr-3">üé®</span>
                            <div>
                                <h4 class="font-semibold text-white mb-1">8+ –¥–∏–∑–∞–π–Ω –º–∞—è–≥</h4>
                                <p class="text-sm text-gray-400">–ú–æ–¥–µ—Ä–Ω, –°–∫–∞–Ω–¥–∏–Ω–∞–≤, –ú–∏–Ω–∏–º–∞–ª–∏–∑–º –≥.–º</p>
                </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Clients Section -->
    <section id="clients" class="py-20 bg-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl lg:text-5xl font-bold text-white mb-4">“Æ–π–ª—á–ª“Ø“Ø–ª—ç–≥—á–∏–¥</h2>
                <p class="text-xl text-gray-400 max-w-2xl mx-auto">
                    –ë–∏–¥–Ω–∏–π AI –¥–∏–∑–∞–π–Ω –ø–ª–∞—Ç—Ñ–æ—Ä–º —è–Ω–∑ –±“Ø—Ä–∏–π–Ω —Ö—ç—Ä—ç–≥–ª—ç–≥—á–¥—ç–¥ “Ø–π–ª—á–∏–ª–∂ –±–∞–π–Ω–∞
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- –ì—ç—Ä –±“Ø–ª–¥ -->
                <div class="bg-gray-900 rounded-2xl p-8 border border-gray-700 hover:border-primary-500 transition-colors text-center">
                    <div class="text-5xl mb-4">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                    <h3 class="text-xl font-bold text-white mb-2">–ì—ç—Ä –±“Ø–ª–¥</h3>
                    <p class="text-gray-400 text-sm">
                        ”®”©—Ä–∏–π–Ω –≥—ç—Ä–∏–π–≥ —Ö“Ø—Å—Å—ç–Ω —Ö—ç–≤ –º–∞—è–≥–∞–∞—Ä ”©”©—Ä—á–ª”©—Ö, —à–∏–Ω—ç—á–ª—ç—Ö
                    </p>
                    </div>

                <!-- “Æ–ª —Ö”©–¥–ª”©—Ö —Ö”©—Ä”©–Ω–≥–∏–π–Ω –∑—É—É—á–ª–∞–≥—á–∏–¥ -->
                <div class="bg-gray-900 rounded-2xl p-8 border border-gray-700 hover:border-primary-500 transition-colors text-center">
                    <div class="text-5xl mb-4">üè†</div>
                    <h3 class="text-xl font-bold text-white mb-2">“Æ–ª —Ö”©–¥–ª”©—Ö —Ö”©—Ä”©–Ω–≥–∏–π–Ω –∑—É—É—á–ª–∞–≥—á–∏–¥</h3>
                    <p class="text-gray-400 text-sm">
                        –ë–æ—Ä–ª—É—É–ª–∞—Ö –±–∞–π—Ä–Ω—ã –¥–∏–∑–∞–π–Ω—ã–≥ —Å–∞–π–∂—Ä—É—É–ª–∞—Ö, “Ø–Ω—ç —Ü—ç–Ω–∏–π–≥ –Ω—ç–º—ç–≥–¥“Ø“Ø–ª—ç—Ö
                    </p>
                </div>

                <!-- –î–∏–∑–∞–π–Ω–µ—Ä, –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—É—É–¥ -->
                <div class="bg-gray-900 rounded-2xl p-8 border border-gray-700 hover:border-primary-500 transition-colors text-center">
                    <div class="text-5xl mb-4">üé®</div>
                    <h3 class="text-xl font-bold text-white mb-2">–î–∏–∑–∞–π–Ω–µ—Ä, –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—É—É–¥</h3>
                    <p class="text-gray-400 text-sm">
                        –•—É—Ä–¥–∞–Ω –ø—Ä–æ—Ç–æ—Ç–∏–ø “Ø“Ø—Å–≥—ç—Ö, “Ø–π–ª—á–ª“Ø“Ø–ª—ç–≥—á–¥—ç–¥ —Å–∞–Ω–∞–ª –±–æ–ª–≥–æ—Ö
                    </p>
                </div>

                <!-- –ë–∞—Ä–∏–ª–≥—ã–Ω –∫–æ–º–ø–∞–Ω–∏—É–¥ -->
                <div class="bg-gray-900 rounded-2xl p-8 border border-gray-700 hover:border-primary-500 transition-colors text-center">
                    <div class="text-5xl mb-4">üèóÔ∏è</div>
                    <h3 class="text-xl font-bold text-white mb-2">–ë–∞—Ä–∏–ª–≥—ã–Ω –∫–æ–º–ø–∞–Ω–∏—É–¥</h3>
                    <p class="text-gray-400 text-sm">
                        –¢”©—Å”©–ª —Ö”©–≥–∂“Ø“Ø–ª—ç—Ö, “Ø–π–ª—á–ª“Ø“Ø–ª—ç–≥—á–¥—ç–¥ –¥–∏–∑–∞–π–Ω —Å–∞–Ω–∞–ª –±–æ–ª–≥–æ—Ö
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Examples Section -->
    <section id="examples" class="py-20 bg-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl lg:text-5xl font-bold text-white mb-4">–ñ–∏—à—ç—ç “Ø—Ä –¥“Ø–Ω</h2>
                <p class="text-xl text-gray-400 max-w-2xl mx-auto">
                    –ú–∞–Ω–∞–π AI-–∞–∞—Ä “Ø“Ø—Å–≥—ç—Å—ç–Ω –¥–∏–∑–∞–π–Ω—É—É–¥—ã–≥ —Ö–∞—Ä. ”®–º–Ω”© –±–æ–ª–æ–Ω –¥–∞—Ä–∞–∞ —Ö–∞—Ä—å—Ü—É—É–ª–∞–ª—Ç.
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Example 1 -->
                <div class="bg-gray-900 rounded-2xl overflow-hidden border border-gray-700 hover:border-primary-500 transition-colors">
                    <div class="relative">
                        <div class="grid grid-cols-2 gap-0">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=400&h=400&fit=crop" alt="”®–º–Ω”© - AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω –∂–∏—à—ç—ç, ReHome Today" class="w-full h-64 object-cover" loading="lazy">
                                <div class="absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded">”®–º–Ω”©</div>
                        </div>
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=400&h=400&fit=crop" alt="–î–∞—Ä–∞–∞ - AI-–∞–∞—Ä —à–∏–Ω—ç—á–ª—ç–≥–¥—Å—ç–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω, ReHome Today" class="w-full h-64 object-cover" loading="lazy">
                                <div class="absolute top-2 right-2 bg-primary-500 text-white text-xs px-2 py-1 rounded">–î–∞—Ä–∞–∞</div>
                        </div>
                    </div>
                </div>
                    <div class="p-4">
                        <h3 class="text-lg font-semibold text-white mb-2">–ú–æ–¥–µ—Ä–Ω –∑–∞–≥–≤–∞—Ä</h3>
                        <p class="text-sm text-gray-400">–ó–æ—á–Ω—ã ”©—Ä”©”© - –û—Ä—á–∏–Ω “Ø–µ–∏–π–Ω –¥–∏–∑–∞–π–Ω</p>
                        </div>
                        </div>
                <!-- Example 2 -->
                <div class="bg-gray-900 rounded-2xl overflow-hidden border border-gray-700 hover:border-primary-500 transition-colors">
                    <div class="relative">
                        <div class="grid grid-cols-2 gap-0">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?w=400&h=400&fit=crop" alt="”®–º–Ω”© - AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω –∂–∏—à—ç—ç, ReHome Today" class="w-full h-64 object-cover" loading="lazy">
                                <div class="absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded">”®–º–Ω”©</div>
                    </div>
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=400&h=400&fit=crop" alt="–î–∞—Ä–∞–∞ - AI-–∞–∞—Ä —à–∏–Ω—ç—á–ª—ç–≥–¥—Å—ç–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω, ReHome Today" class="w-full h-64 object-cover" loading="lazy">
                                <div class="absolute top-2 right-2 bg-primary-500 text-white text-xs px-2 py-1 rounded">–î–∞—Ä–∞–∞</div>
                </div>
                        </div>
                        </div>
                    <div class="p-4">
                        <h3 class="text-lg font-semibold text-white mb-2">–°–∫–∞–Ω–¥–∏–Ω–∞–≤ –∑–∞–≥–≤–∞—Ä</h3>
                        <p class="text-sm text-gray-400">–£–Ω—Ç–ª–∞–≥—ã–Ω ”©—Ä”©”© - –•”©–Ω–≥”©–Ω, —Ü—ç–≤—ç—Ä—Ö—ç–Ω</p>
                    </div>
                </div>
                <!-- Example 3 -->
                <div class="bg-gray-900 rounded-2xl overflow-hidden border border-gray-700 hover:border-primary-500 transition-colors">
                    <div class="relative">
                        <div class="grid grid-cols-2 gap-0">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1556912172-45b7abe8b7e1?w=400&h=400&fit=crop" alt="”®–º–Ω”© - AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω –∂–∏—à—ç—ç, ReHome Today" class="w-full h-64 object-cover" loading="lazy">
                                <div class="absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded">”®–º–Ω”©</div>
            </div>
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=400&fit=crop" alt="–î–∞—Ä–∞–∞ - AI-–∞–∞—Ä —à–∏–Ω—ç—á–ª—ç–≥–¥—Å—ç–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω, ReHome Today" class="w-full h-64 object-cover" loading="lazy">
                                <div class="absolute top-2 right-2 bg-primary-500 text-white text-xs px-2 py-1 rounded">–î–∞—Ä–∞–∞</div>
        </div>
            </div>
                    </div>
                    <div class="p-4">
                        <h3 class="text-lg font-semibold text-white mb-2">–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç –∑–∞–≥–≤–∞—Ä</h3>
                        <p class="text-sm text-gray-400">–ì–∞–ª —Ç–æ–≥–æ–æ - –•—è–ª–±–∞—Ä, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å</p>
                            </div>
                            </div>
                <!-- Example 4 -->
                <div class="bg-gray-900 rounded-2xl overflow-hidden border border-gray-700 hover:border-primary-500 transition-colors">
                    <div class="relative">
                        <div class="grid grid-cols-2 gap-0">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=400&h=400&fit=crop" alt="”®–º–Ω”© - AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω –∂–∏—à—ç—ç, ReHome Today" class="w-full h-64 object-cover" loading="lazy">
                                <div class="absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded">”®–º–Ω”©</div>
                        </div>
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=400&h=400&fit=crop&q=80" alt="–î–∞—Ä–∞–∞ - AI-–∞–∞—Ä —à–∏–Ω—ç—á–ª—ç–≥–¥—Å—ç–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω, ReHome Today" class="w-full h-64 object-cover" loading="lazy">
                                <div class="absolute top-2 right-2 bg-primary-500 text-white text-xs px-2 py-1 rounded">–î–∞—Ä–∞–∞</div>
                            </div>
                            </div>
                        </div>
                    <div class="p-4">
                        <h3 class="text-lg font-semibold text-white mb-2">–ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª –∑–∞–≥–≤–∞—Ä</h3>
                        <p class="text-sm text-gray-400">–ê–∂–ª—ã–Ω ”©—Ä”©”© - –£—Ä–ª–∞–≥–∏–π–Ω, –±“Ø—Ç—ç—ç–ª—á</p>
                    </div>
                    </div>
                <!-- Example 5 -->
                <div class="bg-gray-900 rounded-2xl overflow-hidden border border-gray-700 hover:border-primary-500 transition-colors">
                    <div class="relative">
                        <div class="grid grid-cols-2 gap-0">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1556912172-45b7abe8b7e1?w=400&h=400&fit=crop" alt="”®–º–Ω”© - AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω –∂–∏—à—ç—ç, ReHome Today" class="w-full h-64 object-cover" loading="lazy">
                                <div class="absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded">”®–º–Ω”©</div>
                </div>
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?w=400&h=400&fit=crop" alt="–î–∞—Ä–∞–∞" class="w-full h-64 object-cover">
                                <div class="absolute top-2 right-2 bg-primary-500 text-white text-xs px-2 py-1 rounded">–î–∞—Ä–∞–∞</div>
            </div>
        </div>
            </div>
                    <div class="p-4">
                        <h3 class="text-lg font-semibold text-white mb-2">–ñ–∞–ø–æ–Ω –∑–∞–≥–≤–∞—Ä</h3>
                        <p class="text-sm text-gray-400">–•–æ–æ–ª–Ω—ã ”©—Ä”©”© - –¢–∞–π–≤–∞–Ω, —ç–Ω—Ö</p>
                        </div>
                        </div>
                <!-- Example 6 -->
                <div class="bg-gray-900 rounded-2xl overflow-hidden border border-gray-700 hover:border-primary-500 transition-colors">
                    <div class="relative">
                        <div class="grid grid-cols-2 gap-0">
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=400&fit=crop" alt="”®–º–Ω”© - AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω –∂–∏—à—ç—ç, ReHome Today" class="w-full h-64 object-cover" loading="lazy">
                                <div class="absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded">”®–º–Ω”©</div>
                    </div>
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=400&h=400&fit=crop" alt="–î–∞—Ä–∞–∞ - AI-–∞–∞—Ä —à–∏–Ω—ç—á–ª—ç–≥–¥—Å—ç–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω, ReHome Today" class="w-full h-64 object-cover" loading="lazy">
                                <div class="absolute top-2 right-2 bg-primary-500 text-white text-xs px-2 py-1 rounded">–î–∞—Ä–∞–∞</div>
                </div>
                        </div>
                        </div>
                    <div class="p-4">
                        <h3 class="text-lg font-semibold text-white mb-2">–ë–æ—Ö–æ –∑–∞–≥–≤–∞—Ä</h3>
                        <p class="text-sm text-gray-400">–•“Ø“Ø—Ö–¥–∏–π–Ω ”©—Ä”©”© - ”®–Ω–≥”©—Ç, —Ö”©–≥–∂–∏–ª—Ç—ç–π</p>
                    </div>
                </div>
                        </div>
            <div class="text-center mt-12">
                <button onclick="openSignupModal()" class="bg-primary-600 text-white px-8 py-4 rounded-lg font-semibold hover:bg-primary-700 transition-colors text-lg">
                    ”®”©—Ä–∏–π–Ω –¥–∏–∑–∞–π–Ω–∞–∞ “Ø“Ø—Å–≥—ç—Ö
                </button>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="py-20 bg-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl lg:text-5xl font-bold text-white mb-4">–¢”©–ª–±”©—Ä</h2>
                <p class="text-xl text-gray-400 max-w-2xl mx-auto">
                    –≠–Ω–≥–∏–π–Ω, –∏–ª —Ç–æ–¥ “Ø–Ω—ç. –ê—à–∏–≥–ª–∞—Å–Ω–∞–∞ –ª —Ç”©–ª. –ó–∞—Ö–∏–∞–ª–≥–∞, –Ω—É—É—Ü —Ö—É—Ä–∞–∞–º–∂ –∞–ª–≥–∞.
                </p>
            </div>
            <div id="packages-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 overflow-visible">
                <!-- Packages will be loaded dynamically -->
                <div class="text-center text-gray-400 py-8">–ë–∞–≥—Ü—É—É–¥—ã–≥ –∞—á–∞–∞–ª–∂ –±–∞–π–Ω–∞...</div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 border-t border-gray-800 py-12 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-6 gap-8 mb-8">
                <div>
                    <h3 class="font-semibold text-white mb-4">–ë–∏–¥–Ω–∏–π —Ç—É—Ö–∞–π</h3>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-white transition-colors">rehome.today —Ç–∞–Ω–∏–ª—Ü—É—É–ª–≥–∞</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–ë–ª–æ–≥</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–•–æ–ª–±–æ–æ –±–∞—Ä–∏—Ö</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–ê–∂–ª—ã–Ω –±–∞–π—Ä</a></li>
                    </ul>
                        </div>
                <div>
                    <h3 class="font-semibold text-white mb-4">–ë“Ø—Ç—ç—ç–≥–¥—ç—Ö“Ø“Ø–Ω</h3>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-white transition-colors">AI –ò–Ω—Ç–µ—Ä—å–µ—Ä –î–∏–∑–∞–π–Ω</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–í–∏—Ä—Ç—É–∞–ª Staging</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">”®—Ä”©”© —Ç”©–ª”©–≤–ª”©–≥—á</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–î–∏–∑–∞–π–Ω —Å–∞–Ω—Ö“Ø“Ø</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">API</a></li>
                    </ul>
                    </div>
                <div>
                    <h3 class="font-semibold text-white mb-4">“Æ–π–ª—á–ª“Ø“Ø–ª—ç–≥—á–∏–¥</h3>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-white transition-colors">–ì—ç—Ä –±“Ø–ª–¥</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">“Æ–ª —Ö”©–¥–ª”©—Ö —Ö”©—Ä”©–Ω–≥–∏–π–Ω –∑—É—É—á–ª–∞–≥—á–∏–¥</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–î–∏–∑–∞–π–Ω–µ—Ä, –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—É—É–¥</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–ë–∞—Ä–∏–ª–≥—ã–Ω –∫–æ–º–ø–∞–Ω–∏—É–¥</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-white mb-4">–¢”©–ª–±”©—Ä</h3>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-white transition-colors">“Æ–Ω—ç–≥“Ø–π –±–∞–≥—Ü</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–°—É—É—Ä—å –±–∞–≥—Ü</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–ü—Ä–æ –±–∞–≥—Ü</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–ë–∏–∑–Ω–µ—Å –±–∞–≥—Ü</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-white mb-4">–î—ç–º–∂–ª—ç–≥</h3>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-white transition-colors">–•—ç—Ä—Ö—ç–Ω –∞—à–∏–≥–ª–∞—Ö</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–¢“Ø–≥—ç—ç–º—ç–ª –∞—Å—É—É–ª—Ç</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–í–∏–¥–µ–æ –∑–∞–∞–≤–∞—Ä</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–•–æ–ª–±–æ–æ –±–∞—Ä–∏—Ö</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-white mb-4">–•—É—É–ª—å —ç—Ä—Ö –∑“Ø–π</h3>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-white transition-colors">“Æ–π–ª—á–∏–ª–≥—ç—ç–Ω–∏–π –Ω”©—Ö—Ü”©–ª</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–ù—É—É—Ü–ª–∞–ª—ã–Ω –±–æ–¥–ª–æ–≥–æ</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">–ë—É—Ü–∞–∞–ª—Ç—ã–Ω –±–æ–¥–ª–æ–≥–æ</a></li>
                    </ul>
            </div>
            </div>
            <div class="border-t border-gray-800 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="mb-4 md:mb-0">
                        <p class="text-sm text-gray-400 mb-2">¬© 2025 rehome.today. –ë“Ø—Ö —ç—Ä—Ö —Ö—É—É–ª–∏–∞—Ä —Ö–∞–º–≥–∞–∞–ª–∞–≥–¥—Å–∞–Ω</p>
                        <p class="text-sm text-gray-400 mb-2">üá≤üá≥ –ú–æ–Ω–≥–æ–ª–¥ –∞–Ω—Ö–Ω—ã AI –∏–Ω—Ç–µ—Ä—å–µ—Ä –¥–∏–∑–∞–π–Ω –ø–ª–∞—Ç—Ñ–æ—Ä–º</p>
                        <p class="text-sm text-gray-400">–ò-–º—ç–π–ª: hello@rehome.today</p>
                    </div>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Chat Bubble (Floating) -->
    <div class="fixed bottom-6 right-6 w-14 h-14 bg-primary-500 rounded-full flex items-center justify-center shadow-lg cursor-pointer hover:bg-primary-600 transition-colors z-50">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
        </svg>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-8 relative border border-gray-700">
            <button onclick="closeLoginModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-primary-500 rounded-2xl flex items-center justify-center mx-auto shadow-lg">
                    <span class="text-white font-bold text-2xl">R</span>
                </div>
                <h2 class="mt-4 text-3xl font-bold text-white">–ù—ç–≤—Ç—Ä—ç—Ö</h2>
                <p class="mt-2 text-gray-400">OTP –∫–æ–¥ –∞—à–∏–≥–ª–∞–Ω –Ω—ç–≤—Ç—Ä—ç–Ω—ç “Ø“Ø</p>
            </div>
            <form id="loginForm" class="space-y-4">
                <div id="loginStep1">
                <div>
                        <label for="loginPhoneOrEmail" class="block text-sm font-semibold text-white mb-2">–£—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä</label>
                        <input id="loginPhoneOrEmail" type="tel" required 
                               class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all text-white"
                               placeholder="99112233" pattern="[0-9]{8}" maxlength="8">
                </div>
                    <div id="loginError" class="hidden bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-sm mt-4"></div>
                    <button type="button" id="loginSendOtpBtn" class="w-full bg-primary-600 text-white py-3 rounded-lg font-semibold hover:bg-primary-700 transition-all duration-200 mt-4">
                        OTP –∫–æ–¥ –∏–ª–≥—ç—ç—Ö
                    </button>
                </div>
                <div id="loginStep2" class="hidden">
                <div>
                        <label for="loginOtpCode" class="block text-sm font-semibold text-white mb-2">OTP –∫–æ–¥</label>
                        <input id="loginOtpCode" type="text" required maxlength="6"
                               class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all text-white text-center text-2xl tracking-widest"
                               placeholder="123456">
                        <p class="text-xs text-gray-400 mt-2 text-center">OTP –∫–æ–¥ —É—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä—Ç –∏—Ä—Å—ç–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞–Ω–∞ —É—É</p>
                </div>
                    <div id="loginOtpError" class="hidden bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-sm mt-4"></div>
                    <button type="button" id="loginVerifyOtpBtn" class="w-full bg-primary-600 text-white py-3 rounded-lg font-semibold hover:bg-primary-700 transition-all duration-200 mt-4">
                    –ù—ç–≤—Ç—Ä—ç—Ö
                </button>
                    <button type="button" id="loginBackBtn" class="w-full bg-gray-700 text-white py-3 rounded-lg font-semibold hover:bg-gray-600 transition-all duration-200 mt-2">
                        –ë—É—Ü–∞—Ö
                    </button>
                </div>
            </form>
            <div class="mt-4 text-center">
                <p class="text-sm text-gray-400">
                    –ë“Ø—Ä—Ç–≥—ç–ª –±–∞–π—Ö–≥“Ø–π? 
                    <button onclick="closeLoginModal(); openSignupModal();" class="font-semibold text-primary-400 hover:text-primary-300">
                        –ë“Ø—Ä—Ç–≥“Ø“Ø–ª—ç—Ö
                    </button>
                </p>
            </div>
        </div>
    </div>

    <!-- QPay Payment Modal -->
    <div id="qpayPaymentModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full p-8 relative border border-gray-700 max-h-[90vh] overflow-y-auto">
            <button onclick="closeQPayModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
            <div class="text-center mb-6">
                <h2 class="text-3xl font-bold text-white mb-2">–¢”©–ª–±”©—Ä —Ç”©–ª”©—Ö</h2>
                <p class="text-gray-400">QPay –∞—à–∏–≥–ª–∞–Ω —Ç”©–ª–±”©—Ä”©”© —Ç”©–ª–Ω”© “Ø“Ø</p>
            </div>
            
            <!-- QR Code Section -->
            <div id="qpay-qr-section" class="text-center mb-6">
                <div class="bg-white rounded-lg p-6 inline-block mb-4">
                    <img id="qpay-qr-image" src="" alt="QR Code" class="w-64 h-64 mx-auto">
                </div>
                <p class="text-sm text-gray-400 mb-4">QR –∫–æ–¥—ã–≥ —É—Ç–∞—Å–Ω—ã—Ö–∞–∞ –∫–∞–º–µ—Ä–∞–∞—Ä —É–Ω—à—É—É–ª–Ω–∞ —É—É</p>
                <a id="qpay-short-url" href="#" target="_blank" class="text-primary-400 hover:text-primary-300 text-sm underline">
                    –ë–æ–≥–∏–Ω–æ —Ö–æ–ª–±–æ–æ—Å
                </a>
            </div>
            
            <!-- Payment Apps Section -->
            <div id="qpay-apps-section" class="mb-6">
                <h3 class="text-lg font-semibold text-white mb-4">–¢”©–ª–±”©—Ä–∏–π–Ω –∞–ø–ø —Å–æ–Ω–≥–æ—Ö</h3>
                <div id="qpay-apps-grid" class="grid grid-cols-2 md:grid-cols-3 gap-3">
                    <!-- Payment apps will be loaded here -->
                </div>
            </div>
            
            <!-- Loading State -->
            <div id="qpay-loading" class="text-center py-8">
                <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"></div>
                <p class="text-gray-400 mt-4">–¢”©–ª–±”©—Ä–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª –±—ç–ª–¥—ç–∂ –±–∞–π–Ω–∞...</p>
            </div>
            
            <!-- Error State -->
            <div id="qpay-error" class="hidden bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-sm">
            </div>
            
            <!-- Success State -->
            <div id="qpay-success" class="hidden bg-green-900 border border-green-700 text-green-200 px-4 py-3 rounded-lg text-sm mb-4">
                <div class="flex items-center">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    <div>
                        <p class="font-semibold">–¢”©–ª–±”©—Ä –∞–º–∂–∏–ª—Ç—Ç–∞–π —Ç”©–ª”©–≥–¥–ª”©”©!</p>
                        <p id="qpay-success-credits" class="text-sm mt-1"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-8 relative max-h-[90vh] overflow-y-auto border border-gray-700">
            <button onclick="closeSignupModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-primary-500 rounded-2xl flex items-center justify-center mx-auto shadow-lg">
                    <span class="text-white font-bold text-2xl">R</span>
                </div>
                <h2 class="mt-4 text-3xl font-bold text-white">–ë“Ø—Ä—Ç–≥“Ø“Ø–ª—ç—Ö</h2>
                <p class="mt-2 text-gray-400">OTP –∫–æ–¥ –∞—à–∏–≥–ª–∞–Ω –±“Ø—Ä—Ç–≥“Ø“Ø–ª–Ω—ç “Ø“Ø</p>
            </div>
            <form id="signupForm" class="space-y-4">
                <div id="signupStep1">
                <div>
                        <label for="signupPhoneOrEmail" class="block text-sm font-semibold text-white mb-2">–£—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä</label>
                        <input id="signupPhoneOrEmail" type="tel" required 
                               class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all text-white"
                               placeholder="99112233" pattern="[0-9]{8}" maxlength="8">
                        <p class="text-xs text-gray-400 mt-1">–ó”©–≤—Ö”©–Ω —Ç–æ–æ –æ—Ä—É—É–ª–Ω–∞ —É—É (8 –æ—Ä–æ–Ω)</p>
                </div>
                    <div class="bg-green-900 border border-green-700 rounded-xl p-4 mt-4">
                    <div class="flex items-start">
                            <svg class="h-5 w-5 text-green-400 mt-0.5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                        </svg>
                        <div>
                                <h3 class="text-sm font-bold text-green-300">–ù—ç—ç–ª—Ç–∏–π–Ω —É—Ä–∞–º—à—É—É–ª–∞–ª</h3>
                                <p class="text-xs text-green-400 mt-1">3 –∫—Ä–µ–¥–∏—Ç “Ø–Ω—ç–≥“Ø–π –∞–≤–∞–∞–¥ AI ”©—Ä”©”©–Ω–∏–π –¥–∏–∑–∞–π–Ω—ã–≥ —Ç—É—Ä—à–∞–∞—Ä–∞–π.</p>
                        </div>
                    </div>
                </div>
                    <div id="signupError" class="hidden bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-sm mt-4"></div>
                    <button type="button" id="signupSendOtpBtn" class="w-full bg-primary-600 text-white py-3 rounded-lg font-semibold hover:bg-primary-700 transition-all duration-200 mt-4">
                        OTP –∫–æ–¥ –∏–ª–≥—ç—ç—Ö
                    </button>
                </div>
                <div id="signupStep2" class="hidden">
                    <div>
                        <label for="signupOtpCode" class="block text-sm font-semibold text-white mb-2">OTP –∫–æ–¥</label>
                        <input id="signupOtpCode" type="text" required maxlength="6"
                               class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all text-white text-center text-2xl tracking-widest"
                               placeholder="123456">
                        <p class="text-xs text-gray-400 mt-2 text-center">OTP –∫–æ–¥ —É—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä—Ç –∏—Ä—Å—ç–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞–Ω–∞ —É—É</p>
                    </div>
                    <div id="signupOtpError" class="hidden bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-sm mt-4"></div>
                    <button type="button" id="signupVerifyOtpBtn" class="w-full bg-primary-600 text-white py-3 rounded-lg font-semibold hover:bg-primary-700 transition-all duration-200 mt-4">
                    –ë“Ø—Ä—Ç–≥“Ø“Ø–ª—ç—Ö
                </button>
                    <button type="button" id="signupBackBtn" class="w-full bg-gray-700 text-white py-3 rounded-lg font-semibold hover:bg-gray-600 transition-all duration-200 mt-2">
                        –ë—É—Ü–∞—Ö
                    </button>
                </div>
            </form>
            <div class="mt-4 text-center">
                <p class="text-sm text-gray-400">
                    –ë“Ø—Ä—Ç–≥—ç–ª—Ç—ç–π —Ö—ç—Ä—ç–≥–ª—ç–≥—á? 
                    <button onclick="closeSignupModal(); openLoginModal();" class="font-semibold text-primary-400 hover:text-primary-300">
                        –ù—ç–≤—Ç—Ä—ç—Ö
                    </button>
                </p>
            </div>
        </div>
    </div>

    <script>

        // Interior style data with image URLs
        const interiorStyles = [
            { "en": "Minimalist Haven", "mn": "–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç –æ—Ä—á–∏–Ω", "image": "/static/interior_styles/minimalist-haven.webp" },
            { "en": "Modern Fusion", "mn": "–û—Ä—á–∏–Ω “Ø–µ–∏–π–Ω —Ö–æ—Å–ª–æ–ª", "image": "/static/interior_styles/modern-fusion.webp" },
            { "en": "Contemporary Elegance", "mn": "–û—Ä—á–∏–Ω “Ø–µ–∏–π–Ω —Ç–∞–Ω—Å–∞–≥ –±–∞–π–¥–∞–ª", "image": "/static/interior_styles/contemporary-elegance.webp" },
            { "en": "Industrial Loft", "mn": "–ê–∂ “Ø–π–ª–¥–≤—ç—Ä–∏–π–Ω —Ö—ç–≤ –º–∞—è–≥", "image": "/static/interior_styles/industrial-loft.webp" },
            { "en": "Bohemian Oasis", "mn": "–ë–æ–≥–µ–º–∏–π–Ω —É—É—Ä –∞–º—å—Å–≥–∞–ª", "image": "/static/interior_styles/bohemian-oasis.webp" },
            { "en": "Coastal Breeze", "mn": "–î–∞–ª–∞–π–Ω —ç—Ä–≥–∏–π–Ω —Å—ç—Ä“Ø“Ø–Ω —É—É—Ä –∞–º—å—Å–≥–∞–ª", "image": "/static/interior_styles/coastal-breeze.webp" },
            { "en": "Desert Retreat", "mn": "–¶”©–ª–∏–π–Ω –∞–º—Ä–∞–ª—Ç—ã–Ω —Ö—ç–≤ –º–∞—è–≥", "image": "/static/interior_styles/desert-retreat.webp" },
            { "en": "Mountain Escape", "mn": "–£—É–ª—ã–Ω –∞–º—Ä–∞–ª—Ç—ã–Ω —Ö—ç–≤ –º–∞—è–≥", "image": "/static/interior_styles/mountain-escape.webp" },
            { "en": "Victorian Elegance", "mn": "–í–∏–∫—Ç–æ—Ä–∏–∞–Ω —Ç–∞–Ω—Å–∞–≥ –±–∞–π–¥–∞–ª", "image": "/static/interior_styles/victorian-elegance.webp" },
            { "en": "Art Deco Glamour", "mn": "–ê—Ä—Ç –î–µ–∫–æ –≥–æ—ë–ª —á–∏–º—ç–≥–ª—ç–ª", "image": "/static/interior_styles/art-deco-glamour.webp" },
            { "en": "Mid-Century Modern", "mn": "20-—Ä –∑—É—É–Ω—ã –¥—É–Ω–¥ “Ø–µ–∏–π–Ω –æ—Ä—á–∏–Ω “Ø–µ–∏–π–Ω —Ö—ç–≤ –º–∞—è–≥", "image": "/static/interior_styles/mid-century-modern.webp" },
            { "en": "French Country Charm", "mn": "–§—Ä–∞–Ω—Ü –∑–∞–≥–≤–∞—Ä—ã–Ω —Ö”©–¥”©”©–≥–∏–π–Ω —Ö—ç–≤ –º–∞—è–≥", "image": "/static/interior_styles/french-country-charm.webp" },
            { "en": "Colonial Classic", "mn": "–ö–æ–ª–æ–Ω–∏ —Ö—ç–≤ –º–∞—è–≥–∏–π–Ω —Å–æ–Ω–≥–æ–¥–æ–≥ –æ—Ä—á–∏–Ω", "image": "/static/interior_styles/colonial-classic.webp" },
            { "en": "Scandinavian Sanctuary", "mn": "–°–∫–∞–Ω–¥–∏–Ω–∞–≤ –º–∏–Ω–∏–º–∞–ª –æ—Ä—á–∏–Ω", "image": "/static/interior_styles/scandinavian-sanctuary.webp" },
            { "en": "Japanese Zen", "mn": "–Ø–ø–æ–Ω –ó—ç–Ω —Ö—ç–≤ –º–∞—è–≥", "image": "/static/interior_styles/japanese-zen.webp" }
        ];

        // Selected values
        let selectedRoomType = '';
        let selectedRoomTypeMn = '';
        let selectedInteriorStyle = '';

        // Initialize room type buttons
        function initializeRoomTypes() {
            document.querySelectorAll('.room-type-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Check authentication
                    if (!isAuthenticated) {
                        openLoginModal();
                        return;
                    }
                    
                    const roomMn = this.dataset.roomMn;
                    const roomEn = this.dataset.roomEn;
                    
                    selectedRoomType = roomEn;
                    selectedRoomTypeMn = roomMn;
                    
                    // Remove all active states first
                    document.querySelectorAll('.room-type-btn').forEach(b => {
                        // Temporarily disable transition
                        b.style.transition = 'none';
                        b.classList.remove('bg-primary-600', 'text-white');
                        b.classList.add('bg-gray-700', 'text-gray-300');
                        // Re-enable transition after a brief moment
                        setTimeout(() => {
                            b.style.transition = '';
                        }, 10);
                    });
                    
                    // Add active state to clicked button
                    this.style.transition = 'none';
                    this.classList.remove('bg-gray-700', 'text-gray-300');
                    this.classList.add('bg-primary-600', 'text-white');
                    setTimeout(() => {
                        this.style.transition = '';
                    }, 10);
                });
            });
        }

        // Populate interior styles
        function populateInteriorStyles(showAll = false) {
            const container = document.getElementById('interior-style-container');
            if (!container) return;
            
            let html = '';
            const stylesToShow = showAll ? interiorStyles : interiorStyles.slice(0, 3);
            
            stylesToShow.forEach((style, index) => {
                html += `<button class="interior-style-btn bg-gray-700 rounded-lg p-4 text-center cursor-pointer hover:bg-gray-600 transition-all overflow-hidden group border-2 border-transparent" data-style="${style.en}" data-index="${index}">
                    <div class="w-full h-32 rounded mb-2 overflow-hidden bg-gray-600">
                        <img src="${style.image}" alt="${style.mn}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'400\\' height=\\'300\\'%3E%3Crect fill=\\'%234b5563\\' width=\\'400\\' height=\\'300\\'/%3E%3C/svg%3E'">
                    </div>
                    <p class="text-sm font-medium text-white">${style.mn}</p>
                    <p class="text-xs text-gray-400 mt-1">${style.en}</p>
                </button>`;
            });
            
            container.innerHTML = html;
            
            // Add click handlers
            document.querySelectorAll('.interior-style-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Check authentication
                    if (!isAuthenticated) {
                        openLoginModal();
                        return;
                    }
                    
                    document.querySelectorAll('.interior-style-btn').forEach(b => {
                        b.classList.remove('border-primary-500', 'bg-primary-600');
                        b.classList.add('border-transparent', 'bg-gray-700');
                    });
                    this.classList.add('border-primary-500', 'bg-primary-600');
                    this.classList.remove('border-transparent', 'bg-gray-700');
                    
                    selectedInteriorStyle = this.dataset.style;
                });
            });
        }

        // Initialize room types
        initializeRoomTypes();
        
        // Populate interior styles (show only first 3)
        populateInteriorStyles(false);
        
        // See more/less buttons for interior styles
        const seeMoreBtn = document.getElementById('see-more-styles-btn');
        const seeLessBtn = document.getElementById('see-less-styles-btn');
        
        if (seeMoreBtn) {
            seeMoreBtn.addEventListener('click', function() {
                populateInteriorStyles(true);
                seeMoreBtn.classList.add('hidden');
                if (seeLessBtn) seeLessBtn.classList.remove('hidden');
            });
        }
        
        if (seeLessBtn) {
            seeLessBtn.addEventListener('click', function() {
                populateInteriorStyles(false);
                seeLessBtn.classList.add('hidden');
                if (seeMoreBtn) seeMoreBtn.classList.remove('hidden');
            });
        }

        // Image upload preview
        const imageInput = document.getElementById('image');
        const imagePreview = document.getElementById('image-preview');
        const previewImg = document.getElementById('preview-img');
        const uploadArea = document.getElementById('upload-area');
        const submitText = document.getElementById('submit-text');
        const loadingText = document.getElementById('loading-text');
        const result = document.getElementById('result');
        const generateBtn = document.getElementById('generate-btn');

        // Check if user is authenticated
        const isAuthenticated = {% if user.is_authenticated %}true{% else %}false{% endif %};

        imageInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                // Check authentication before allowing image selection
                if (!isAuthenticated) {
                    imageInput.value = '';
                    openSignupModal();
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    previewImg.src = e.target.result;
                    imagePreview.classList.remove('hidden');
                    uploadArea.classList.add('hidden');
                };
                reader.readAsDataURL(file);
            }
        });

        // Remove image button
        const removeImageBtn = document.getElementById('remove-image-btn');
        if (removeImageBtn) {
            removeImageBtn.addEventListener('click', function(e) {
                e.preventDefault();
                imageInput.value = '';
                imagePreview.classList.add('hidden');
                uploadArea.classList.remove('hidden');
            });
        }

        // Generate button
        generateBtn.addEventListener('click', async function(e) {
            e.preventDefault();
            
            // Check authentication
            {% if not user.is_authenticated %}
            openSignupModal();
                return;
        {% endif %}
            
            // Check for image
            if (!imageInput.files[0]) {
                alert('–ó—É—Ä–∞–≥ –±–∞–π—Ä—à—É—É–ª–Ω–∞ —É—É');
                return;
            }
            
            if (!selectedRoomType) {
                alert('”®—Ä”©”©–Ω–∏–π —Ç”©—Ä”©–ª —Å–æ–Ω–≥–æ–Ω–æ —É—É');
                return;
            }
            
            if (!selectedInteriorStyle) {
                alert('–ò–Ω—Ç–µ—Ä—å–µ—Ä–∏–π–Ω —Ö—ç–≤ –º–∞—è–≥ —Å–æ–Ω–≥–æ–Ω–æ —É—É');
                return;
            }
            
            // Show loading state
            if (submitText) submitText.classList.add('hidden');
            if (loadingText) loadingText.classList.remove('hidden');
            generateBtn.disabled = true;
            
            // Show result section immediately and scroll to top
            showResultSection();
            
            // Prepare form data
            const formData = new FormData();
            formData.append('image', imageInput.files[0]);
            formData.append('room_type', selectedRoomType);
            formData.append('style', selectedInteriorStyle);
            formData.append('description', document.getElementById('description').value || '');
            
            try {
                const response = await fetch('/api/generate/', {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'X-CSRFToken': getCookie('csrftoken'),
                    },
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    if (data.generated_image) {
                        updateGeneratedImage(data.generated_image);
                    } else {
                        console.error('Generated image data is missing');
                        alert('–ó—É—Ä–∞–≥ “Ø“Ø—Å–≥—ç—Ö—ç–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞');
                    }
                } else {
                    alert('–ê–ª–¥–∞–∞: ' + data.error);
                }
            } catch (error) {
                alert('–ê–ª–¥–∞–∞: ' + error.message);
            } finally {
                if (submitText) submitText.classList.remove('hidden');
                if (loadingText) loadingText.classList.add('hidden');
                generateBtn.disabled = false;
            }
        });

        // Modal functions
        function openLoginModal() {
            document.getElementById('loginModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeLoginModal() {
            document.getElementById('loginModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        function openSignupModal() {
            document.getElementById('signupModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeSignupModal() {
            document.getElementById('signupModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Close modal on background click
        document.getElementById('loginModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeLoginModal();
            }
        });

        document.getElementById('signupModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSignupModal();
            }
        });

        // Get CSRF token
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }

        // Result section functions
        function showResultSection() {
            const imageFile = imageInput.files[0];
            const originalSrc = previewImg.src || (imageFile ? URL.createObjectURL(imageFile) : '');
            
            const roomTypeText = selectedRoomTypeMn || selectedRoomType || '–ó–æ—á–Ω—ã ”©—Ä”©”©';
            
            let styleText = selectedInteriorStyle || '–ó–∞–≥–≤–∞—Ä';
            const styleObj = interiorStyles.find(s => s.en === selectedInteriorStyle || s.mn === selectedInteriorStyle);
            if (styleObj) {
                styleText = styleObj.mn;
            }
            
            const originalImg = document.getElementById('result-original-img');
            const originalContainer = originalImg?.closest('.bg-gray-700');
            const generatedContainer = document.getElementById('generated-container');
            
            if (originalImg && originalSrc) {
                originalImg.src = originalSrc;
                
                // When original image loads, match its height to generated container
                originalImg.onload = function() {
                    if (originalContainer && generatedContainer) {
                        // Get the natural aspect ratio of the original image
                        const aspectRatio = originalImg.naturalHeight / originalImg.naturalWidth;
                        // Get the width of the container (they should be same width in grid)
                        const containerWidth = originalContainer.offsetWidth;
                        // Calculate height based on aspect ratio
                        const calculatedHeight = containerWidth * aspectRatio;
                        // Set both containers to the same height
                        originalContainer.style.height = calculatedHeight + 'px';
                        generatedContainer.style.height = calculatedHeight + 'px';
                    }
                };
            }
            
            const resultTitle = document.getElementById('result-title');
            if (resultTitle) {
                resultTitle.textContent = roomTypeText + ', ' + styleText;
            }
            
            if (result) {
                result.classList.remove('hidden');
                window.scrollTo({ top: 0, behavior: 'smooth' });
                startProgressSimulation(null);
            }
        }
        
        function updateGeneratedImage(generatedImage) {
            let generatedImageUrl = '';
            
            if (typeof generatedImage === 'object' && generatedImage !== null) {
                generatedImageUrl = generatedImage.generated_image || generatedImage.url || '';
            } else if (typeof generatedImage === 'string') {
                generatedImageUrl = generatedImage;
            }
            
            if (generatedImageUrl) {
                const generatedImg = document.getElementById('result-generated-img');
                const progressContainer = document.getElementById('progress-container');
                
                if (generatedImg && progressContainer) {
                    if (window.progressInterval) {
                        window.pendingGeneratedImageUrl = generatedImageUrl;
                    } else {
                        generatedImg.src = generatedImageUrl;
                        generatedImg.onload = () => {
                            progressContainer.classList.add('hidden');
                            generatedImg.classList.remove('hidden');
                            
                            // Match generated image height to original image height
                            const originalImg = document.getElementById('result-original-img');
                            const originalContainer = originalImg?.closest('.bg-gray-700');
                            const generatedContainer = document.getElementById('generated-container');
                            
                            if (originalContainer && generatedContainer && originalImg.complete) {
                                // Get the natural aspect ratio of the original image
                                const aspectRatio = originalImg.naturalHeight / originalImg.naturalWidth;
                                // Get the width of the container
                                const containerWidth = originalContainer.offsetWidth;
                                // Calculate height based on aspect ratio
                                const calculatedHeight = containerWidth * aspectRatio;
                                // Set both containers to the same height
                                originalContainer.style.height = calculatedHeight + 'px';
                                generatedContainer.style.height = calculatedHeight + 'px';
                            }
                            
                            const watermarkOverlay = document.getElementById('watermark-overlay');
                            if (watermarkOverlay) {
                                watermarkOverlay.classList.remove('hidden');
                            }
                            const downloadGeneratedBtn = document.getElementById('download-generated-btn');
                            const downloadComparedBtn = document.getElementById('download-compared-btn');
                            if (downloadGeneratedBtn) downloadGeneratedBtn.classList.remove('hidden');
                            if (downloadComparedBtn) downloadComparedBtn.classList.remove('hidden');
                        };
                    }
                }
            }
        }
        
        function startProgressSimulation(generatedImageUrl) {
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const progressContainer = document.getElementById('progress-container');
            const generatedImg = document.getElementById('result-generated-img');
            
            if (!progressBar || !progressText || !progressContainer || !generatedImg) {
                return;
            }
            
            if (window.progressInterval) {
                clearInterval(window.progressInterval);
            }
            
            progressBar.style.width = '0%';
            progressText.textContent = '0%';
            progressContainer.classList.remove('hidden');
            generatedImg.classList.add('hidden');
            
            let progress = 0;
            window.progressInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 100) progress = 100;
                
                progressBar.style.width = progress + '%';
                progressText.textContent = progress.toFixed(2) + '%';
                
                if (progress >= 100) {
                    clearInterval(window.progressInterval);
                    window.progressInterval = null;
                    
                    setTimeout(() => {
                        const imageUrl = window.pendingGeneratedImageUrl || generatedImageUrl;
                        
                        if (imageUrl) {
                            generatedImg.src = imageUrl;
                            generatedImg.onload = () => {
                                progressContainer.classList.add('hidden');
                                generatedImg.classList.remove('hidden');
                                
                                // Match generated image height to original image height
                                const originalImg = document.getElementById('result-original-img');
                                const originalContainer = originalImg?.closest('.bg-gray-700');
                                const generatedContainer = document.getElementById('generated-container');
                                
                                if (originalContainer && generatedContainer && originalImg.complete) {
                                    // Get the natural aspect ratio of the original image
                                    const aspectRatio = originalImg.naturalHeight / originalImg.naturalWidth;
                                    // Get the width of the container
                                    const containerWidth = originalContainer.offsetWidth;
                                    // Calculate height based on aspect ratio
                                    const calculatedHeight = containerWidth * aspectRatio;
                                    // Set both containers to the same height
                                    originalContainer.style.height = calculatedHeight + 'px';
                                    generatedContainer.style.height = calculatedHeight + 'px';
                                }
                                
                                const watermarkOverlay = document.getElementById('watermark-overlay');
                                if (watermarkOverlay) {
                                    watermarkOverlay.classList.remove('hidden');
                                }
                                const downloadGeneratedBtn = document.getElementById('download-generated-btn');
                                const downloadComparedBtn = document.getElementById('download-compared-btn');
                                if (downloadGeneratedBtn) downloadGeneratedBtn.classList.remove('hidden');
                                if (downloadComparedBtn) downloadComparedBtn.classList.remove('hidden');
                            };
                            generatedImg.onerror = () => {
                                progressText.textContent = '–ê–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞';
                            };
                            window.pendingGeneratedImageUrl = null;
                        } else {
                            progressText.textContent = '–•“Ø–ª—ç—ç–∂ –±–∞–π–Ω–∞...';
                        }
                    }, 500);
                }
            }, 200);
        }

        // Download functions
        function downloadGeneratedImage() {
            const generatedImg = document.getElementById('result-generated-img');
            if (!generatedImg || !generatedImg.src) {
                alert('–ó—É—Ä–∞–≥ –æ–ª–¥—Å–æ–Ω–≥“Ø–π');
                return;
            }

            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            const img = new Image();
            img.crossOrigin = 'anonymous';
            
            img.onload = () => {
                canvas.width = img.width;
                canvas.height = img.height;
                ctx.drawImage(img, 0, 0);
                
                const watermarkText = 'www.rehome.today';
                const fontSize = Math.max(16, img.width / 40);
                ctx.font = `${fontSize}px Arial`;
                ctx.fillStyle = 'rgba(0, 0, 0, 0.6)';
                
                const textMetrics = ctx.measureText(watermarkText);
                const textWidth = textMetrics.width;
                const textHeight = fontSize;
                const padding = 10;
                
                ctx.fillRect(
                    img.width - textWidth - padding * 2,
                    img.height - textHeight - padding * 2,
                    textWidth + padding * 2,
                    textHeight + padding * 2
                );
                
                ctx.fillStyle = 'white';
                ctx.fillText(
                    watermarkText,
                    img.width - textWidth - padding,
                    img.height - padding
                );
                
                canvas.toBlob((blob) => {
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'rehome-generated-' + Date.now() + '.png';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 'image/png');
            };
            
            img.onerror = () => {
                const a = document.createElement('a');
                a.href = generatedImg.src;
                a.download = 'rehome-generated-' + Date.now() + '.png';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            };
            
            img.src = generatedImg.src;
        }

        function downloadComparedImage() {
            const originalImg = document.getElementById('result-original-img');
            const generatedImg = document.getElementById('result-generated-img');
            
            if (!originalImg || !originalImg.src || !generatedImg || !generatedImg.src) {
                alert('–ó—É—Ä–∞–≥ –æ–ª–¥—Å–æ–Ω–≥“Ø–π');
                return;
            }

            const img1 = new Image();
            const img2 = new Image();
            img1.crossOrigin = 'anonymous';
            img2.crossOrigin = 'anonymous';
            
            let loadedCount = 0;
            const onImageLoad = () => {
                loadedCount++;
                if (loadedCount === 2) {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    
                    const maxHeight = Math.max(img1.height, img2.height);
                    const scale1 = maxHeight / img1.height;
                    const scale2 = maxHeight / img2.height;
                    const scaledWidth1 = img1.width * scale1;
                    const scaledWidth2 = img2.width * scale2;
                    const totalWidth = scaledWidth1 + scaledWidth2;
                    
                    canvas.width = totalWidth;
                    canvas.height = maxHeight;
                    
                    ctx.fillStyle = '#374151';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    ctx.drawImage(img1, 0, 0, scaledWidth1, maxHeight);
                    ctx.drawImage(img2, scaledWidth1, 0, scaledWidth2, maxHeight);
                    
                    const watermarkText = 'www.rehome.today';
                    const fontSize = Math.max(16, maxHeight / 40);
                    ctx.font = `${fontSize}px Arial`;
                    ctx.fillStyle = 'rgba(0, 0, 0, 0.6)';
                    
                    const textMetrics = ctx.measureText(watermarkText);
                    const textWidth = textMetrics.width;
                    const textHeight = fontSize;
                    const padding = 10;
                    
                    ctx.fillRect(
                        scaledWidth1 + scaledWidth2 - textWidth - padding * 2,
                        maxHeight - textHeight - padding * 2,
                        textWidth + padding * 2,
                        textHeight + padding * 2
                    );
                    
                    ctx.fillStyle = 'white';
                    ctx.fillText(
                        watermarkText,
                        scaledWidth1 + scaledWidth2 - textWidth - padding,
                        maxHeight - padding
                    );
                    
                    canvas.toBlob((blob) => {
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = 'rehome-compared-' + Date.now() + '.png';
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);
                    }, 'image/png');
                }
            };
            
            img1.onload = onImageLoad;
            img2.onload = onImageLoad;
            img1.onerror = () => {
                alert('–ê–Ω—Ö–Ω—ã –∑—É—Ä–∞–≥ –∞—á–∞–∞–ª–∂ —á–∞–¥—Å–∞–Ω–≥“Ø–π');
            };
            img2.onerror = () => {
                alert('“Æ“Ø—Å–≥—ç—Å—ç–Ω –∑—É—Ä–∞–≥ –∞—á–∞–∞–ª–∂ —á–∞–¥—Å–∞–Ω–≥“Ø–π');
            };
            
            img1.src = originalImg.src;
            img2.src = generatedImg.src;
        }

        // Set up download button event listeners
        const downloadGeneratedBtn = document.getElementById('download-generated-btn');
        const downloadComparedBtn = document.getElementById('download-compared-btn');
        
        if (downloadGeneratedBtn) {
            downloadGeneratedBtn.addEventListener('click', downloadGeneratedImage);
        }
        
        if (downloadComparedBtn) {
            downloadComparedBtn.addEventListener('click', downloadComparedImage);
        }

        // Login OTP flow
        let loginPhoneOrEmail = '';
            
        // Send OTP for login
        document.getElementById('loginSendOtpBtn').addEventListener('click', async function() {
            loginPhoneOrEmail = document.getElementById('loginPhoneOrEmail').value.trim();
            const errorDiv = document.getElementById('loginError');
            
            if (!loginPhoneOrEmail) {
                errorDiv.textContent = '–£—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä –æ—Ä—É—É–ª–Ω–∞ —É—É';
                errorDiv.classList.remove('hidden');
                return;
            }
            
            // Validate phone number (only digits, 8 digits)
            const phoneRegex = /^[0-9]{8}$/;
            if (!phoneRegex.test(loginPhoneOrEmail)) {
                errorDiv.textContent = '–£—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä –∑”©–≤ –±–∏—à –±–∞–π–Ω–∞. –ó”©–≤—Ö”©–Ω —Ç–æ–æ –æ—Ä—É—É–ª–Ω–∞ —É—É (8 –æ—Ä–æ–Ω)';
                errorDiv.classList.remove('hidden');
                return;
            }
            
            try {
                const response = await fetch('/api/send-otp/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': getCookie('csrftoken'),
                    },
                    body: JSON.stringify({
                        phone_or_email: loginPhoneOrEmail
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    // Hide step 1, show step 2
                    document.getElementById('loginStep1').classList.add('hidden');
                    document.getElementById('loginStep2').classList.remove('hidden');
                    errorDiv.classList.add('hidden');
                    document.getElementById('loginOtpCode').focus();
                } else {
                    errorDiv.textContent = data.error || 'OTP –∫–æ–¥ –∏–ª–≥—ç—ç—Ö—ç–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞';
                    errorDiv.classList.remove('hidden');
                }
            } catch (error) {
                errorDiv.textContent = '–°“Ø–ª–∂—ç—ç–Ω–∏–π –∞–ª–¥–∞–∞. –î–∞—Ö–∏–Ω –æ—Ä–æ–ª–¥–æ–Ω–æ —É—É.';
                errorDiv.classList.remove('hidden');
            }
        });

        // Verify OTP for login
        document.getElementById('loginVerifyOtpBtn').addEventListener('click', async function() {
            const otpCode = document.getElementById('loginOtpCode').value.trim();
            const errorDiv = document.getElementById('loginOtpError');
            
            if (!otpCode || otpCode.length !== 6) {
                errorDiv.textContent = 'OTP –∫–æ–¥ –æ—Ä—É—É–ª–Ω–∞ —É—É (6 –æ—Ä–æ–Ω)';
                errorDiv.classList.remove('hidden');
                return;
            }
            
            try {
                const response = await fetch('/api/verify-otp/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': getCookie('csrftoken'),
                    },
                    body: JSON.stringify({
                        phone_or_email: loginPhoneOrEmail,
                        otp_code: otpCode
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    window.location.href = '/app/';
                } else {
                    errorDiv.textContent = data.error || 'OTP –∫–æ–¥ –±—É—Ä—É—É –±–∞–π–Ω–∞';
                    errorDiv.classList.remove('hidden');
                }
            } catch (error) {
                errorDiv.textContent = '–°“Ø–ª–∂—ç—ç–Ω–∏–π –∞–ª–¥–∞–∞. –î–∞—Ö–∏–Ω –æ—Ä–æ–ª–¥–æ–Ω–æ —É—É.';
                errorDiv.classList.remove('hidden');
            }
        });

        // Back button for login
        document.getElementById('loginBackBtn').addEventListener('click', function() {
            document.getElementById('loginStep2').classList.add('hidden');
            document.getElementById('loginStep1').classList.remove('hidden');
            document.getElementById('loginOtpError').classList.add('hidden');
            document.getElementById('loginOtpCode').value = '';
        });

        // Signup OTP flow
        let signupPhoneOrEmail = '';
        
        // Send OTP for signup
        document.getElementById('signupSendOtpBtn').addEventListener('click', async function() {
            signupPhoneOrEmail = document.getElementById('signupPhoneOrEmail').value.trim();
            const errorDiv = document.getElementById('signupError');
            
            if (!signupPhoneOrEmail) {
                errorDiv.textContent = '–£—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä –æ—Ä—É—É–ª–Ω–∞ —É—É';
                errorDiv.classList.remove('hidden');
                return;
            }
            
            // Validate phone number (only digits, 8 digits)
            const phoneRegex = /^[0-9]{8}$/;
            if (!phoneRegex.test(signupPhoneOrEmail)) {
                errorDiv.textContent = '–£—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä –∑”©–≤ –±–∏—à –±–∞–π–Ω–∞. –ó”©–≤—Ö”©–Ω —Ç–æ–æ –æ—Ä—É—É–ª–Ω–∞ —É—É (8 –æ—Ä–æ–Ω)';
                errorDiv.classList.remove('hidden');
                return;
            }
            
            try {
                const response = await fetch('/api/send-otp/', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRFToken': getCookie('csrftoken'),
                        },
                        body: JSON.stringify({
                        phone_or_email: signupPhoneOrEmail
                        })
                    });
                    
                const data = await response.json();
                
                if (response.ok) {
                    // Hide step 1, show step 2
                    document.getElementById('signupStep1').classList.add('hidden');
                    document.getElementById('signupStep2').classList.remove('hidden');
                    errorDiv.classList.add('hidden');
                    document.getElementById('signupOtpCode').focus();
                    } else {
                    errorDiv.textContent = data.error || 'OTP –∫–æ–¥ –∏–ª–≥—ç—ç—Ö—ç–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞';
                    errorDiv.classList.remove('hidden');
                }
            } catch (error) {
                errorDiv.textContent = '–°“Ø–ª–∂—ç—ç–Ω–∏–π –∞–ª–¥–∞–∞. –î–∞—Ö–∏–Ω –æ—Ä–æ–ª–¥–æ–Ω–æ —É—É.';
                errorDiv.classList.remove('hidden');
            }
        });

        // Verify OTP for signup
        document.getElementById('signupVerifyOtpBtn').addEventListener('click', async function() {
            const otpCode = document.getElementById('signupOtpCode').value.trim();
            const errorDiv = document.getElementById('signupOtpError');
            
            if (!otpCode || otpCode.length !== 6) {
                errorDiv.textContent = 'OTP –∫–æ–¥ –æ—Ä—É—É–ª–Ω–∞ —É—É (6 –æ—Ä–æ–Ω)';
                errorDiv.classList.remove('hidden');
                return;
            }
            
            try {
                const response = await fetch('/api/verify-otp/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': getCookie('csrftoken'),
                },
                        body: JSON.stringify({
                        phone_or_email: signupPhoneOrEmail,
                        otp_code: otpCode
            })
                    });
                    
                const data = await response.json();
                
                if (response.ok) {
                        window.location.href = '/app/';
                    } else {
                    errorDiv.textContent = data.error || 'OTP –∫–æ–¥ –±—É—Ä—É—É –±–∞–π–Ω–∞';
                    errorDiv.classList.remove('hidden');
                }
            } catch (error) {
                errorDiv.textContent = '–°“Ø–ª–∂—ç—ç–Ω–∏–π –∞–ª–¥–∞–∞. –î–∞—Ö–∏–Ω –æ—Ä–æ–ª–¥–æ–Ω–æ —É—É.';
                errorDiv.classList.remove('hidden');
            }
        });
        
        // Back button for signup
        document.getElementById('signupBackBtn').addEventListener('click', function() {
            document.getElementById('signupStep2').classList.add('hidden');
            document.getElementById('signupStep1').classList.remove('hidden');
            document.getElementById('signupOtpError').classList.add('hidden');
            document.getElementById('signupOtpCode').value = '';
        });

        // Logout function
        function logout() {
            window.location.href = '/logout/';
        }

        // Load packages from API
        async function loadPackages() {
            try {
                const response = await fetch('/api/packages/');
                const data = await response.json();
                
                const container = document.getElementById('packages-container');
                if (!container) return;
                
                if (data.packages && data.packages.length > 0) {
                    container.innerHTML = '';
                    
                    data.packages.forEach((pkg, index) => {
                        const isPopular = index === 1; // Second package is popular
                        const packageCard = document.createElement('div');
                        packageCard.className = `bg-gray-800 rounded-2xl p-8 border ${isPopular ? 'border-2 border-primary-500' : 'border-gray-700'} hover:border-primary-500 transition-colors relative overflow-visible`;
                        
                        let badgeHtml = '';
                        if (isPopular) {
                            badgeHtml = `
                                <div class="absolute -top-3 left-4 bg-primary-500 text-white text-xs px-3 py-1.5 rounded-full font-semibold z-10 shadow-lg">
                                    –≠—Ä—ç–ª—Ç—Ç—ç–π
                                </div>
                            `;
                        }
                        
                        packageCard.innerHTML = `
                            ${badgeHtml}
                            <div class="text-center mb-6">
                                <h3 class="text-2xl font-bold text-white mb-2">${pkg.name}</h3>
                                <div class="text-4xl font-bold text-white mb-1">${pkg.price.toLocaleString()}‚ÇÆ</div>
                                <p class="text-gray-400 text-sm">–ù—ç–≥ —É–¥–∞–∞–≥–∏–π–Ω —Ç”©–ª–±”©—Ä</p>
                            </div>
                            <ul class="space-y-4 mb-8">
                                <li class="flex items-start">
                                    <svg class="w-5 h-5 text-green-400 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                                    </svg>
                                    <span class="text-gray-300 text-sm">${pkg.credits} –∫—Ä–µ–¥–∏—Ç</span>
                                </li>
                                <li class="flex items-start">
                                    <svg class="w-5 h-5 text-green-400 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                                    </svg>
                                    <span class="text-gray-300 text-sm">–ë“Ø—Ö —Ç”©—Ä–ª–∏–π–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä</span>
                                </li>
                                <li class="flex items-start">
                                    <svg class="w-5 h-5 text-green-400 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                                    </svg>
                                    <span class="text-gray-300 text-sm">HD —á–∞–Ω–∞—Ä</span>
                                </li>
                            </ul>
                            <button onclick="purchasePackage(${pkg.id})" class="w-full ${isPopular ? 'bg-primary-600 hover:bg-primary-700' : 'bg-gray-700 hover:bg-gray-600'} text-white py-3 rounded-lg font-semibold transition-colors">
                                –°–æ–Ω–≥–æ—Ö
                            </button>
                        `;
                        
                        container.appendChild(packageCard);
                    });
                } else {
                    container.innerHTML = '<div class="text-center text-gray-400 py-8 col-span-full">–ë–∞–≥—Ü –æ–ª–¥—Å–æ–Ω–≥“Ø–π</div>';
                }
            } catch (error) {
                console.error('Error loading packages:', error);
                const container = document.getElementById('packages-container');
                if (container) {
                    container.innerHTML = '<div class="text-center text-red-400 py-8 col-span-full">–ë–∞–≥—Ü—É—É–¥—ã–≥ –∞—á–∞–∞–ª–∞—Ö–∞–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞</div>';
                }
            }
        }

        // Global variable to store current order ID and polling interval
        let currentOrderId = null;
        let paymentPollingInterval = null;

        // Open packages modal (scroll to pricing section)
        function openPackagesModal() {
            const pricingSection = document.getElementById('pricing');
            if (pricingSection) {
                pricingSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        // Purchase package
        async function purchasePackage(packageId) {
            {% if not user.is_authenticated %}
            openSignupModal();
            return;
            {% endif %}
            
            // Stop any existing polling
            stopPaymentPolling();
            
            // Show loading state
            openQPayModal();
            showQPayLoading();
            
            try {
                const response = await fetch('/api/purchase-credits/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': getCookie('csrftoken'),
                    },
                    body: JSON.stringify({
                        package_id: packageId
                    })
                });
                
                const data = await response.json();
                
                if (response.ok && data.qpay_invoice && data.order) {
                    // Store order ID for polling
                    currentOrderId = data.order.id;
                    // Show QPay payment info
                    showQPayPayment(data.qpay_invoice);
                    // Start polling for payment status
                    startPaymentPolling();
                } else {
                    showQPayError(data.error || '–¢”©–ª–±”©—Ä–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª –∞–≤–∞—Ö–∞–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞');
                }
            } catch (error) {
                console.error('Error purchasing package:', error);
                showQPayError('–°“Ø–ª–∂—ç—ç–Ω–∏–π –∞–ª–¥–∞–∞. –î–∞—Ö–∏–Ω –æ—Ä–æ–ª–¥–æ–Ω–æ —É—É.');
            }
        }

        // QPay Modal functions
        function openQPayModal() {
            document.getElementById('qpayPaymentModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeQPayModal() {
            document.getElementById('qpayPaymentModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
            // Stop polling
            stopPaymentPolling();
            // Reset modal state
            document.getElementById('qpay-loading').classList.remove('hidden');
            document.getElementById('qpay-qr-section').classList.add('hidden');
            document.getElementById('qpay-apps-section').classList.add('hidden');
            document.getElementById('qpay-error').classList.add('hidden');
            document.getElementById('qpay-success').classList.add('hidden');
            currentOrderId = null;
        }

        function showQPayLoading() {
            document.getElementById('qpay-loading').classList.remove('hidden');
            document.getElementById('qpay-qr-section').classList.add('hidden');
            document.getElementById('qpay-apps-section').classList.add('hidden');
            document.getElementById('qpay-error').classList.add('hidden');
        }

        function showQPayPayment(qpayInvoice) {
            document.getElementById('qpay-loading').classList.add('hidden');
            document.getElementById('qpay-error').classList.add('hidden');
            
            // Show QR code
            if (qpayInvoice.qr_image) {
                document.getElementById('qpay-qr-image').src = 'data:image/png;base64,' + qpayInvoice.qr_image;
                document.getElementById('qpay-qr-section').classList.remove('hidden');
            }
            
            // Show short URL
            if (qpayInvoice.qPay_shortUrl) {
                const shortUrlLink = document.getElementById('qpay-short-url');
                shortUrlLink.href = qpayInvoice.qPay_shortUrl;
                shortUrlLink.textContent = qpayInvoice.qPay_shortUrl;
            }
            
            // Show payment apps
            if (qpayInvoice.urls && qpayInvoice.urls.length > 0) {
                const appsGrid = document.getElementById('qpay-apps-grid');
                appsGrid.innerHTML = '';
                
                qpayInvoice.urls.forEach(app => {
                    const appCard = document.createElement('a');
                    appCard.href = app.link;
                    appCard.target = '_blank';
                    appCard.className = 'bg-gray-700 rounded-lg p-4 hover:bg-gray-600 transition-colors text-center';
                    appCard.innerHTML = `
                        <img src="${app.logo}" alt="${app.name}" class="w-12 h-12 mx-auto mb-2 rounded" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'48\\' height=\\'48\\'%3E%3Crect fill=\\'%234b5563\\' width=\\'48\\' height=\\'48\\'/%3E%3C/svg%3E'">
                        <p class="text-white text-sm font-semibold">${app.name}</p>
                        <p class="text-gray-400 text-xs mt-1">${app.description}</p>
                    `;
                    appsGrid.appendChild(appCard);
                });
                
                document.getElementById('qpay-apps-section').classList.remove('hidden');
            }
        }

        function showQPayError(message) {
            document.getElementById('qpay-loading').classList.add('hidden');
            document.getElementById('qpay-qr-section').classList.add('hidden');
            document.getElementById('qpay-apps-section').classList.add('hidden');
            document.getElementById('qpay-success').classList.add('hidden');
            document.getElementById('qpay-error').classList.remove('hidden');
            document.getElementById('qpay-error').textContent = message;
            stopPaymentPolling();
        }

        function showQPaySuccess(credits) {
            document.getElementById('qpay-loading').classList.add('hidden');
            document.getElementById('qpay-qr-section').classList.add('hidden');
            document.getElementById('qpay-apps-section').classList.add('hidden');
            document.getElementById('qpay-error').classList.add('hidden');
            document.getElementById('qpay-success').classList.remove('hidden');
            document.getElementById('qpay-success-credits').textContent = `${credits} –∫—Ä–µ–¥–∏—Ç –¥–∞–Ω—Å–∞–Ω–¥ –Ω—ç–º—ç–≥–¥–ª—ç—ç.`;
            stopPaymentPolling();
            
            // Reload page after 2 seconds to update credit balance
            setTimeout(() => {
                window.location.reload();
            }, 2000);
        }

        // Payment status polling
        function startPaymentPolling() {
            if (!currentOrderId) return;
            
            // Check immediately
            checkPaymentStatus();
            
            // Then check every 3 seconds
            paymentPollingInterval = setInterval(() => {
                checkPaymentStatus();
            }, 3000);
        }

        function stopPaymentPolling() {
            if (paymentPollingInterval) {
                clearInterval(paymentPollingInterval);
                paymentPollingInterval = null;
            }
        }

        async function checkPaymentStatus() {
            if (!currentOrderId) return;
            
            try {
                const response = await fetch(`/api/check-order-status/?order_id=${currentOrderId}`, {
                    headers: {
                        'X-CSRFToken': getCookie('csrftoken'),
                    }
                });
                
                const data = await response.json();
                
                if (response.ok && data.is_paid) {
                    // Payment successful
                    showQPaySuccess(data.credits);
                }
            } catch (error) {
                console.error('Error checking payment status:', error);
                // Don't show error, just continue polling
            }
        }

        // Close QPay modal on background click
        document.getElementById('qpayPaymentModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeQPayModal();
            }
        });

        // Load credit balance for authenticated users
        async function loadCreditBalance() {
            {% if user.is_authenticated %}
            try {
                const response = await fetch('/api/dashboard/');
                const data = await response.json();
                const creditBalanceEl = document.getElementById('nav-credit-balance');
                if (creditBalanceEl) {
                    creditBalanceEl.textContent = data.credit_balance || 0;
                }
            } catch (error) {
                console.error('Error loading credit balance:', error);
                const creditBalanceEl = document.getElementById('nav-credit-balance');
                if (creditBalanceEl) {
                    creditBalanceEl.textContent = '0';
                }
            }
            {% endif %}
        }

        // Load packages on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadPackages();
            loadCreditBalance();
        });
    </script>
</body>
</html>
